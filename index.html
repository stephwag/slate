<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" style="margin:0 auto;margin-top:20px;margin-bottom:10px" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="developer-guide">Developer Guide</h1>

<p>iSpeech Inc. (“iSpeech”) has made efforts to ensure the accuracy and
completeness of the information in this document. However, iSpeech Inc. disclaims all
representations, warranties and conditions, whether express or implied, arising by
statute, operation of law, usage of trade, course of dealing or otherwise, with respect to
the information contained herein. iSpeech Inc. assumes no liability to any party for any
loss or damage, whether direct, indirect, incidental, consequential, special or exemplary,
with respect to (a) the information; and/or (b) the evaluation, application or use of any
product or service described herein.</p>

<p>iSpeech Inc. disclaims any and all representation that its products or services infringe
upon any existing or future intellectual property rights. iSpeech Inc. owns and retains all
right, title and interest in and to the iSpeech Inc. intellectual property, including without
limitation, its patents, marks, copyrights and technology associated with the
iSpeech Inc. services. No title or ownership of any of the foregoing is granted or
otherwise transferred hereunder. iSpeech Inc. reserves the right to make changes to
any information herein without further notice.</p>

          <h1 id="introduction">Introduction</h1>

<p>Welcome to the iSpeech Inc. Application Programming Interface (API) Developer Guide.  This guide describes the available variables, commands, and interfaces that make up the iSpeech API.</p>

<p>The iSpeech API allows developers to implement Text-To-Speech (TTS) and Automated Voice Recognition (ASR) in any Internet-enabled application.</p>

<p>The API&rsquo;s are platform agnostic which means any device that can record or play audio that is connected to the Internet can use the iSpeech API.</p>

<h2 id="minimum-requirements">Minimum Requirements</h2>

<p>Below are the minimum requirements needed to use the iSpeech API.  The API can be use with and without a software development kit (SDK).</p>

<h3 id="internet-connection">Internet Connection</h3>

<p>iSpeech services require an Internet connection.</p>

<h3 id="http-protocol">HTTP Protocol</h3>

<p>The iSpeech API follows the HTTP standard by using GET and POST.  Some web browsers limit the length of GET requests to a few thousand characters.</p>

<h3 id="request-responses">Request/Responses</h3>

<p>Requests can be in URL-encoded, JSON, or XML data formats.  You can specify the output data format of responses.  For TTS, binary data is usually returned if the request is successful.  For speech recognition, URL-encoded text, JSON, or XML can be returned by setting the output variable.</p>

<h3 id="api-key">API Key</h3>

<p>An API key is a password that is required for access.  To obtain an API key please visit: http://www.ispeech.org/developers and register for a developer account.</p>

<h2 id="api-features">API Features</h2>

<p>You can retrieve the properties of your API keys.  Key information includes a voice list, amount of credits, locales, and many other parameters.</p>

<h3 id="text-to-speech">Text to Speech</h3>

<p>You can synthesize spoken audio through iSpeech TTS in a variety of voices, formats, bitrates, frequencies, and playback speeds.  Math markup language (MathML) and Speech synthesis markup language (SSML) are also supported.</p>

<h3 id="automated-speech-recognition">Automated Speech Recognition</h3>

<p>You can convert spoken audio to text using a variety of languages and recognition models.  We can create custom recognition models to improve recognition quality.</p>

<h3 id="position-markers">Position Markers</h3>

<p>You can get the position in time when words are spoken in TTS audio.</p>

<h3 id="visemes">Visemes</h3>

<p>You can get the position in time of mouth positions when words are spoken in TTS audio.</p>

<h2 id="developer-support">Developer Support</h2>

<h3 id="sales">Sales</h3>

<p>Automated purchasing system: https://www.ispeech.org/developer/purchase/
iSpeech sales can be contacted at the following phone number: +1-917-338-7723 from 10 AM to 6 PM Eastern Time, Monday to Friday.  You can also email sales@ispeech.org.</p>

<h3 id="support-troubleshooting">Support / Troubleshooting</h3>

<p>Please look for the answer to your problem in the iSpeech Developer Forum: http://www.ispeech.org/forums/</p>

<h2 id="software-development-kits">Software Development Kits</h2>

<p>iSpeech SDKs simplify the iSpeech API.  You should use iSpeech SDKs if the option is available.  Only mobile SDKs made by iSpeech allow you to use the iSpeech API for free.</p>

<h3 id="availability">Availability</h3>

<p>iPhone, Android, BlackBerry, .NET, Java (Server), PHP, Flash, Javascript/Flash, Ruby, Python, Perl</p>

<h3 id="api-access-pricing">API Access Pricing</h3>

<table><thead>
<tr>
<th>Platforms</th>
<th>Price</th>
</tr>
</thead><tbody>
<tr>
<td>iPhone, Android, BlackBerry</td>
<td>Free with fair usage using iSpeech SDK for non-revenue generating apps.  Apps must follow the iSpeech standard usage guidelines for branding.</td>
</tr>
<tr>
<td>.NET, Java, PHP, Flash, Ruby, Python, Perl</td>
<td>Between $0.05 and $0.0001 per word (TTS) or transaction (ASR), depending on quantity</td>
</tr>
</tbody></table>

          <h1 id="authentication">Authentication</h1>

<h3 id="api-key">API Key</h3>

<blockquote>
<p>API Key Information Retrieval</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?apikey=**YOUR_KEY_HERE**
&amp;action=information&amp;output=rest"</span>
</code></pre>
<blockquote>
<p>HTTP Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">[</span>…]&amp;voice-locale-94-1<span class="o">=</span>ja&amp;voice-locale-94-2<span class="o">=</span>ja-jp&amp;voice-gender-94<span class="o">=</span>female
&amp;voice-description-94<span class="o">=</span>Japanese+Female+Voice&amp;wordlimit<span class="o">=</span>40&amp;model<span class="o">=</span>assistant%2cdate
%2cnfl%2cnba%2cusmoney%2cmlb%2cnumbersto9%2cnumbersto99%2cnumbersto999%2ctime
%2cphonenumber%2cstreets%2csportsteam%2ccitystate&amp;credits<span class="o">=</span>5672606&amp;unlimited<span class="o">=</span>enabled
&amp;alias<span class="o">=</span>enabled&amp;asr-sms<span class="o">=</span>enabled&amp;asr-voicemail<span class="o">=</span>enabled&amp;asr-dictation<span class="o">=</span>enabled
</code></pre>
<aside class="info">
All calls to the API require an API Key as a parameter
</aside>

<p>An API key is a password that is required for access. To obtain an API key please visit: http://www.ispeech.org/developers and register for a developer account.</p>

<h3 id="view-edit-keys">View/Edit Keys</h3>

<p>Manage your API keys by using the <a href="http://www.ispeech.org/developers">iSpeech developer website</a>.  You can request additional features for your API keys on that website.</p>

<h3 id="request-parameter-reference">Request Parameter Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data Type</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>Apikey</td>
<td>32 character hex integer</td>
<td><strong>YOUR_KEY_HERE</strong></td>
</tr>
</tbody></table>

          <h1 id="transaction-types">Transaction Types</h1>

<p>The iSpeech API supports URL Encoded, XML, and JSON formats.</p>

<aside class="info">
Position Marker and Viseme data is currently only presented in XML form
</aside>

<h3 id="supported-transaction-types">Supported transaction types</h3>

<table><thead>
<tr>
<th>Transaction Type</th>
<th>Input Format</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>HTTP GET/POST</td>
<td>URL Encoded</td>
<td>http://api.ispeech.org/api/rest</td>
</tr>
<tr>
<td>HTTP GET/POST</td>
<td>XML</td>
<td>http://api.ispeech.org/api/xml</td>
</tr>
<tr>
<td>HTTP GET/POST</td>
<td>JSON</td>
<td>http://api.ispeech.org/api/json</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Supported Values</th>
</tr>
</thead><tbody>
<tr>
<td>output (optional)</td>
<td>xml, json, rest (default)</td>
</tr>
</tbody></table>

          <h1 id="text-to-speech">Text to Speech</h1>

<blockquote>
<p>Example HTTP GET Request (Using most variables)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=mp3
      &amp;frequency=44100
      &amp;bitrate=128
      &amp;speed=1
      &amp;startpadding=1
      &amp;endpadding=1
      &amp;pitch=110
      &amp;filename=myaudiofile"</span>
</code></pre>
<p>The iSpeech Text-To-Speech API allows you to synthesize high-quality spoken audio in multiple formats. The iSpeech API doesn’t use callbacks because it’s fast and synchronous. You&rsquo;ll always receive audio data or an error message in the same HTTP transaction.</p>

<h2 id="request-parameters">Request Parameters</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data Type</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>Action</td>
<td>String</td>
<td>convert, ssml</td>
</tr>
<tr>
<td>Text</td>
<td>String</td>
<td>Hello World</td>
</tr>
<tr>
<td>Ssml (optional)</td>
<td>String</td>
<td>&lt;?xml version=”1.0” ?&gt;&lt;speak version= […]</td>
</tr>
<tr>
<td>Voice (optional)</td>
<td>String</td>
<td>usenglishfemale (default)</td>
</tr>
<tr>
<td>Format (optional)</td>
<td>String</td>
<td>mp3 (default)</td>
</tr>
<tr>
<td>Frequency (optional)</td>
<td>Integer (hertz)</td>
<td>16000 (default)</td>
</tr>
<tr>
<td>Bitrate (optional)</td>
<td>Integer (kbps)</td>
<td>48 (default)</td>
</tr>
<tr>
<td>Speed (optional)</td>
<td>Integer</td>
<td>-10 to 10 (default: 0)</td>
</tr>
<tr>
<td>Startpadding (optional)</td>
<td>Integer (seconds)</td>
<td>5 (default: 0)</td>
</tr>
<tr>
<td>Endpadding (optional)</td>
<td>Integer (seconds)</td>
<td>5 (default: 0)</td>
</tr>
<tr>
<td>Pitch (optional)</td>
<td>Integer</td>
<td>0 to 200 (default: 100)</td>
</tr>
<tr>
<td>Bitdepth (optional)</td>
<td>Integer (bits per sample)</td>
<td>8 or 16 (default: 16)</td>
</tr>
<tr>
<td>Filename (optional)</td>
<td>String</td>
<td>myaudio or myaudio.mp3 (default: rest.*)</td>
</tr>
<tr>
<td>Library (optional)</td>
<td>String</td>
<td>libmath</td>
</tr>
</tbody></table>

<h2 id="voices-standard">Voices - Standard</h2>

<blockquote>
<p>HTTP GET Request (Setting voice to European French Female)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;format=mp3
      &amp;voice=eurfrenchfemale"</span>
</code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Alias</th>
</tr>
</thead><tbody>
<tr>
<td>US English Female (default)</td>
<td>usenglishfemale</td>
</tr>
<tr>
<td>US English Male</td>
<td>usenglishmale</td>
</tr>
<tr>
<td>UK English Female</td>
<td>ukenglishfemale</td>
</tr>
<tr>
<td>UK English Male</td>
<td>ukenglishmale</td>
</tr>
<tr>
<td>Australian English Female</td>
<td>auenglishfemale</td>
</tr>
<tr>
<td>US Spanish Female</td>
<td>usspanishfemale</td>
</tr>
<tr>
<td>US Spanish Male</td>
<td>usspanishmale</td>
</tr>
<tr>
<td>Chinese Female</td>
<td>chchinesefemale</td>
</tr>
<tr>
<td>Chinese Male</td>
<td>chchinesemale</td>
</tr>
<tr>
<td>Hong Kong Cantonese Female</td>
<td>hkchinesefemale</td>
</tr>
<tr>
<td>Taiwan Chinese Female</td>
<td>twchinesefemale</td>
</tr>
<tr>
<td>Japanese Female</td>
<td>jpjapanesefemale</td>
</tr>
<tr>
<td>Japanese Male</td>
<td>jpjapanesemale</td>
</tr>
<tr>
<td>Korean Female</td>
<td>krkoreanfemale</td>
</tr>
<tr>
<td>Korean Male</td>
<td>krkoreanmale</td>
</tr>
<tr>
<td>Canadian English Female</td>
<td>caenglishfemale</td>
</tr>
<tr>
<td>Hungarian Female</td>
<td>huhungarianfemale</td>
</tr>
<tr>
<td>Brazilian Portuguese Female</td>
<td>brportuguesefemale</td>
</tr>
<tr>
<td>European Portuguese Female</td>
<td>eurportuguesefemale</td>
</tr>
<tr>
<td>European Portuguese Male</td>
<td>eurportuguesemale</td>
</tr>
<tr>
<td>European Spanish Female</td>
<td>eurspanishfemale</td>
</tr>
<tr>
<td>European Spanish Male</td>
<td>eurspanishmale</td>
</tr>
<tr>
<td>European Catalan Female</td>
<td>eurcatalanfemale</td>
</tr>
<tr>
<td>European Czech Female</td>
<td>eurczechfemale</td>
</tr>
<tr>
<td>European Danish Female</td>
<td>eurdanishfemale</td>
</tr>
<tr>
<td>European Finnish Female</td>
<td>eurfinnishfemale</td>
</tr>
<tr>
<td>European French Female</td>
<td>eurfrenchfemale</td>
</tr>
<tr>
<td>European French Male</td>
<td>eurfrenchmale</td>
</tr>
<tr>
<td>European Norwegian Female</td>
<td>eurnorwegianfemale</td>
</tr>
<tr>
<td>European Dutch Female</td>
<td>eurdutchfemale</td>
</tr>
<tr>
<td>European Polish Female</td>
<td>eurpolishfemale</td>
</tr>
<tr>
<td>European Italian Female</td>
<td>euritalianfemale</td>
</tr>
<tr>
<td>European Italian Male</td>
<td>euritalianmale</td>
</tr>
<tr>
<td>European Turkish Female</td>
<td>eurturkishfemale</td>
</tr>
<tr>
<td>European Turkish Male</td>
<td>eurturkishmale</td>
</tr>
<tr>
<td>European German Female</td>
<td>eurgermanfemale</td>
</tr>
<tr>
<td>European German Male</td>
<td>eurgermanmale</td>
</tr>
<tr>
<td>Russian Female</td>
<td>rurussianfemale</td>
</tr>
<tr>
<td>Russian Male</td>
<td>rurussianmale</td>
</tr>
<tr>
<td>Swedish Female</td>
<td>swswedishfemale</td>
</tr>
<tr>
<td>Canadian French Female</td>
<td>cafrenchfemale</td>
</tr>
<tr>
<td>Canadian French Male</td>
<td>cafrenchmale</td>
</tr>
<tr>
<td>Arabic Male</td>
<td>ararabicmale</td>
</tr>
</tbody></table>

<h2 id="voices-custom">Voices - Custom</h2>

<p>Custom Voices may be enabled for your account.  They can be found in the developer portal -&gt; api key properties -&gt; custom voices.  You can use them by setting the variable voice to the custom alias.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Alias</th>
</tr>
</thead><tbody>
<tr>
<td>President Obama</td>
<td>Obama (voice=obama)</td>
</tr>
<tr>
<td>Custom Voice</td>
<td>customvoice1 (voice=customvoice1)</td>
</tr>
</tbody></table>

<h2 id="voices-list-retrieval">Voices - List Retrieval</h2>

<blockquote>
<p>HTTP GET Network Transaction to get XML voice list.</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=information&amp;output=xml"</span>
</code></pre>
<blockquote>
<p>XML Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version='1.0'?&gt;</span>
<span class="nt">&lt;data&gt;</span>
    <span class="nt">&lt;result&gt;</span>success<span class="nt">&lt;/result&gt;</span>
    <span class="nt">&lt;voice-1&gt;</span>krkoreanfemale<span class="nt">&lt;/voice-1&gt;</span>
    <span class="nt">&lt;voice-locale-1-1&gt;</span>ko-kr<span class="nt">&lt;/voice-locale-1-1&gt;</span>
    <span class="nt">&lt;voice-locale-1-2&gt;</span>ko<span class="nt">&lt;/voice-locale-1-2&gt;</span>
    <span class="nt">&lt;voice-gender-1&gt;</span>female<span class="nt">&lt;/voice-gender-1&gt;</span>
    <span class="nt">&lt;voice-description-1&gt;</span>Korean Female Voice<span class="nt">&lt;/voice-description-1&gt;</span>
    <span class="nt">&lt;voice-2&gt;</span>usenglishfemale<span class="nt">&lt;/voice-2&gt;</span>
    <span class="nt">&lt;voice-locale-2-1&gt;</span>en-us<span class="nt">&lt;/voice-locale-2-1&gt;</span>
    <span class="nt">&lt;voice-locale-2-2&gt;</span>en<span class="nt">&lt;/voice-locale-2-2&gt;</span>
    <span class="nt">&lt;voice-gender-2&gt;</span>female<span class="nt">&lt;/voice-gender-2&gt;</span>
    <span class="nt">&lt;voice-description-2&gt;</span>United States English Female Voice<span class="nt">&lt;/voice-description-2&gt;</span>
<span class="nt">&lt;/data&gt;</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"voice-gender-48"</span><span class="p">:</span><span class="s2">"female"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-locale-22-1"</span><span class="p">:</span><span class="s2">"fr-ca"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-locale-8-1"</span><span class="p">:</span><span class="s2">"pt-br"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-description-2"</span><span class="p">:</span><span class="s2">"Finnish Female Voice"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-description-3"</span><span class="p">:</span><span class="s2">"Hong Kong Chinese Male Voice"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-58"</span><span class="p">:</span><span class="s2">"eurdanishfemale"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-description-1"</span><span class="p">:</span><span class="s2">"Korean Female Voice"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-description-6"</span><span class="p">:</span><span class="s2">"Chinese Female Voice"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"voice-description-7"</span><span class="p">:</span><span class="s2">"United Kingdom English Female Voice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>REST / URL Encoded Response</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?result=success
      &amp;voice-1=krkoreanfemale2
      &amp;voice-locale-1-1=ko-kr
      &amp;voice-gender-1=female
      &amp;voice-description-1=Korean+Female+Voice
      &amp;voice-2=eurfinnishfemale
      &amp;voice-locale-2-1=fi-fi
      &amp;voice-gender-2=female
      &amp;voice-description-2=Finnish+Female+Voice
      &amp;voice-3=chchinesemale1
      &amp;voice-locale-3-1=zh
      &amp;voice-locale-3-2=zh-hk
      &amp;[...more voices...]"</span>
</code></pre>
<p>A current list of voices that are enabled for an API key can be retrieved in REST, JSON, and XML format by using the following service.  HTTP GET and POST are supported.  A web browser or a REST client can be used to make these HTTP requests.</p>

<h2 id="speed">Speed</h2>

<blockquote>
<p>HTTP GET Request (Setting speed to 5)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=mp3
      &amp;speed=5"</span>
</code></pre>
<p>Most voices support speed controls.</p>

<table><thead>
<tr>
<th>Speed</th>
<th>Value (Integer)</th>
</tr>
</thead><tbody>
<tr>
<td>Fastest</td>
<td>10</td>
</tr>
<tr>
<td>Faster</td>
<td>Speed &gt; 0</td>
</tr>
<tr>
<td>Normal (default)</td>
<td>0</td>
</tr>
<tr>
<td>Slower</td>
<td>Speed &lt; 0</td>
</tr>
<tr>
<td>Slowest</td>
<td>-10</td>
</tr>
</tbody></table>

<h2 id="bitrates">Bitrates</h2>

<blockquote>
<p>HTTP GET Request (Setting bitrate to 16 kilobits per second)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=mp3
      &amp;bitrate=16"</span>
</code></pre>
<h3 id="note-bitrates-can-only-be-selected-for-mp3s">Note: Bitrates can only be selected for MP3s.</h3>

<p>Valid values are 16, 24, 32, 48 (default), 56, 64, 80, 96, 112, 128, 144, 160, 192, 224, 256, or 320.
Bitrates are listed in kilobits per second.</p>

<h2 id="formats">Formats</h2>

<blockquote>
<p>Example HTTP GET Request (Setting format to wav)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=wav"</span>
</code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Extension</th>
</tr>
</thead><tbody>
<tr>
<td>Audio Interchange File Format</td>
<td>aiff</td>
</tr>
<tr>
<td>MPEG Layer 3 (default)</td>
<td>mp3</td>
</tr>
<tr>
<td>Ogg Vorbis</td>
<td>ogg</td>
</tr>
<tr>
<td>Windows Media Audio</td>
<td>wma</td>
</tr>
<tr>
<td>Free Lossless Audio Codec</td>
<td>flac</td>
</tr>
<tr>
<td>Wave PCM</td>
<td>wav</td>
</tr>
<tr>
<td>Wave (alaw)</td>
<td>alaw</td>
</tr>
<tr>
<td>Wave (µ-law)</td>
<td>ulaw</td>
</tr>
<tr>
<td>Dialogic ADPCM</td>
<td>vox</td>
</tr>
<tr>
<td>MPEG-4</td>
<td>mp4</td>
</tr>
</tbody></table>

<h2 id="frequencies">Frequencies</h2>

<blockquote>
<p>Example HTTP GET Request (Setting frequency to 16000 Hz)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;frequency=16000"</span>
</code></pre>
<p>Possible values: 8000, 11025, 16000 (default), 22050, 24000, 32000, 44100, 48000 cycles per second (Hertz)</p>

<h2 id="padding">Padding</h2>

<p>Padding adds silence to a section of the audio file.</p>

<h3 id="start-padding">Start Padding</h3>

<blockquote>
<p>Example HTTP GET Request (Setting start padding to 3 seconds)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;startpadding=3"</span>
</code></pre>
<p>Adds a period of silence to the beginning of the audio file.</p>

<h3 id="end-padding">End Padding</h3>

<blockquote>
<p>Example HTTP GET Request (Setting end padding to 3 seconds)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;endpadding=3"</span>
</code></pre>
<p>Adds a period of silence to the beginning of the audio file.</p>

<h2 id="pitch">Pitch</h2>

<blockquote>
<p>Example HTTP GET Request (Setting pitch to 50)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;pitch=50"</span>
</code></pre>
<p>Possible values: 0 to 200 (integer), 0 is lowest pitch, 100 is default, 200 is highest pitch. Pitch is enabled only on some voices.</p>

<h2 id="bit-depth">Bit Depth</h2>

<blockquote>
<p>Example HTTP GET Request (Setting bit depth to 8)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=wav
      &amp;bitdepth=8"</span>
</code></pre>
<p>The bit depth is amount of audio detail for each audio sample.  </p>

<p>Possible values are 8 and 16 (default) bits/sample on AIFF, FLAC, and WAVE file formats.</p>

<h2 id="filename">Filename</h2>

<blockquote>
<p>Example HTTP GET Request (Setting filename of audio)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=wav
      &amp;filename=myaudiofile"</span>
</code></pre>
<p>The filename is the name of the audio file that will download.  Specifying the extension is optional.  If the extension is missing, the correct extension will be added automatically.  The default is rest.[extension], for example:  rest.mp3.</p>

<h2 id="speech-synthesis-markup-language-ssml">Speech Synthesis Markup Language (SSML)</h2>

<blockquote>
<p>Example HTTP GET Request (Emphasis added on the word big)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?
      action=ssml&amp;ssml=%3C%3Fxml%20version%3D%221.0%22%3F%3E%3Cspeak
      %20version%3D%221.0%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org
      %2F2001%2F10%2Fsynthesis%22%20xmlns%3Axsi%3D%22http%3A%2F%2F
      www.w3.org%2F2001%2FXMLSchema-instance%22
      %20xsi%3AschemaLocation%3D%22http%3A%2F%2Fwww.w3.org%2F2001
      %2F10%2Fsynthesis%20http%3A%2F%2Fwww.w3.org%2FTR%2Fspeech-synthesis
      %2Fsynthesis.xsd%22%20xml%3Alang%3D%22en-US%22%3E
      That%20is%20a%20%3Cemphasis%3E%20big%20%3C%2Femphasis%3E%20car!
      %3C%2Fspeak%3E"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight xml"><code>SSML used:

<span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;speak</span> <span class="na">version=</span><span class="s">"1.0"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2001/10/synthesis"</span>
         <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.w3.org/2001/10/synthesis</span>
                   <span class="err">http://www.w3.org/TR/speech-synthesis/synthesis.xsd"</span>
         <span class="na">xml:lang=</span><span class="s">"en-US"</span><span class="nt">&gt;</span>
  That is a <span class="nt">&lt;emphasis&gt;</span> big <span class="nt">&lt;/emphasis&gt;</span> car!
<span class="nt">&lt;/speak&gt;</span>
Audio synthesized as, “That is a BIG car!”.
</code></pre>
<p>SSML tags are used to customize the way a text-to-speech engine creates audio.  The tags can be used to add pauses, change emphasis, and change pronunciation.  This option is disabled by default but can be requested by emailing sales@ispeech.org.
The parameter “action” must set to “ssml” and the parameter “ssml” must be set to a complete SSML XML statement.</p>

<p>The parameter “text” is not used and the parameters voice and speed should be represented using the “voice” and “prosody” SSML tags instead of request parameters.</p>

<p>More information on SSML can be found at: http://www.w3.org/TR/speech-synthesis/.</p>

<h2 id="math-markup-language-mathml">Math Markup Language (MathML)</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;library=libmath
      &amp;text=%3Cfmath%3E%3Cmrow%3E%3Cmtext%3E%3Csup%3E%2B%3C%2Fsup%3E%3C%2Fmtext%3E
      %3Cmn%3E7%3C%2Fmn%3E%3C%2Fmrow%3E%3C%2Ffmath%3E"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight xml"><code>MathML used: <span class="nt">&lt;mrow&gt;&lt;mtext&gt;&lt;sup&gt;</span>+<span class="nt">&lt;/sup&gt;&lt;/mtext&gt;&lt;mn&gt;</span>7<span class="nt">&lt;/mn&gt;&lt;/mrow&gt;</span>

Audio synthesized as, “positive 7” instead of plus 7.
</code></pre>
<p>MathML tags are used to display and represent mathematical statements.  This option is disabled by default but can be requested by emailing sales@ispeech.org.</p>

<p>Remember to set “library” to “libmath” so that the MathML processor loads your text as MathML.</p>

<p>More information on MathML can be found at: https://developer.mozilla.org/en-US/docs/MathML</p>

<p>The following table lists MathML tags supported by the iSpeech API.</p>

<table><thead>
<tr>
<th>MathML Tag</th>
<th>Purpose</th>
</tr>
</thead><tbody>
<tr>
<td>mfrac</td>
<td>Used to display fractions</td>
</tr>
<tr>
<td>mi</td>
<td>Rendered as an identifier such as function names, variables or symbolic constants.</td>
</tr>
<tr>
<td>mn</td>
<td>A numeric literal which is normally a sequence of digits with a possible separator (a dot or a comma). However, it is also allowed to have arbitrary text in it which is actually a numeric quantity, for example &ldquo;eleven&rdquo;.</td>
</tr>
<tr>
<td>mo</td>
<td>An operator in a broad sense. Besides operators in strict mathematical meaning, this element also includes &ldquo;operators&rdquo; like parentheses, separators like comma and semicolon, or &ldquo;absolute value&rdquo; bars.</td>
</tr>
<tr>
<td>mroot</td>
<td>Displays roots with an explicit index. Two arguments are accepted, which leads to the syntax:<code class="prettyprint">&lt;mroot&gt;</code> base index <code class="prettyprint">&lt;/mroot&gt;</code>.</td>
</tr>
<tr>
<td>mrow</td>
<td>Groups sub-expressions, which usually contain one or more operators with their respective operands (such as <code class="prettyprint">&lt;mi&gt;</code> and <code class="prettyprint">&lt;mn&gt;</code>). This element renders as a horizontal row containing its arguments.</td>
</tr>
<tr>
<td>msqrt</td>
<td>Displays square roots (no index is displayed). The square root accepts only one argument, which leads to the following syntax: <code class="prettyprint">&lt;msqrt&gt;</code> base <code class="prettyprint">&lt;/msqrt&gt;</code>.</td>
</tr>
<tr>
<td>msup, sup</td>
<td>Attaches a superscript to an expression.</td>
</tr>
<tr>
<td>mtext</td>
<td>Renders arbitrary text with no notational meaning, such as comments or annotations.</td>
</tr>
<tr>
<td>mspan, span</td>
<td>Used for highlighting text or just general styling of an equation</td>
</tr>
<tr>
<td>mtable, table</td>
<td>Creates tables or matrices. Inside a <code class="prettyprint">&lt;mtable&gt;</code>, only <code class="prettyprint">&lt;mtr&gt;</code> and <code class="prettyprint">&lt;mtd&gt;</code> elements may appear. These elements are similar to <code class="prettyprint">&lt;table&gt;</code>, <code class="prettyprint">&lt;tr&gt;</code> and <code class="prettyprint">&lt;td&gt;</code> elements of HTML.</td>
</tr>
</tbody></table>

<h2 id="example-transactions">Example Transactions</h2>

<blockquote>
<p>HTTP POST URL encoded request for Text to Speech</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -d <span class="s2">"action=convert&amp;text=hello+world"</span> <span class="s2">"http://api.ispeech.org/api/rest"</span>
</code></pre>
<blockquote>
<p>HTTP POST JSON request for Text to Speech</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/json"</span>
    -d <span class="s1">'{"action":"convert","text":"hello world","voice":"usenglishfemale"}'</span>
    <span class="s2">"http://api.ispeech.org/api/json"</span>
</code></pre>
<blockquote>
<p>HTTP POST XML request for Text to Speech</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/xml"</span>
-d <span class="s2">"&lt;data&gt;
    &lt;apikey&gt;developerdemokeydeveloperdemokey&lt;/apikey&gt;
    &lt;action&gt;convert&lt;/action&gt;
    &lt;text&gt;hello world&lt;/text&gt;
    &lt;voice&gt;usenglishfemale&lt;/voice&gt;
    &lt;/data&gt;"</span> <span class="s2">"http://api.ispeech.org/api/xml"</span>
</code></pre>
<blockquote>
<p>HTTP Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">[</span>mp3 audio binary data]
</code></pre>
<blockquote>
<p>Example of a text-to-speech network transaction with an error. 
Responses with an error message return HTTP status response code “HTTP/1.0 202 Accepted”.</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;output=rest
      &amp;voice=usenglishfemal"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="nv">result</span><span class="o">=</span>error&amp;code<span class="o">=</span>8&amp;message<span class="o">=</span>Invalid+voice
</code></pre>
<p>The following examples are packet captures from TCP connections that used the HTTP protocol.  You can compare your network traffic to these transactions to debug code.  Wireshark can be used to analyze network connections.  A REST client can be used to make these HTTP requests.</p>

<h2 id="example-network-transactions-containing-mathml">Example network transactions containing MathML</h2>

<blockquote>
<p>HTTP GET, URL Encoded Request and Reply, +7 (says positive 7)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;voice=usenglishfemale
      &amp;library=libmath
      &amp;format=mp3
      &amp;text=%3Cfmath%3E%3Cmrow%3E%3Cmtext%3E%3Csup%3E%2B%3C%2Fsup%3E%3C%2Fmtext%3E
      %3Cmn%3E7%3C%2Fmn%3E%3C%2Fmrow%3E%3C%2Ffmath%3E"</span>
</code></pre>
<blockquote>
<p>HTTP POST JSON Text-to-Speech request containing MathML</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/json"</span>
  -d <span class="s1">'{"action":"convert",
  "text":"&lt;mrow&gt;&lt;mtext&gt;&lt;sup&gt;-&lt;/sup&gt;&lt;/mtext&gt;&lt;span mtagname=\"mfrac\"&gt;
  &lt;span class=\"fm-vert fm-frac\"&gt;
  &lt;table&gt;&lt;tbody&gt;
  &lt;tr&gt;&lt;td class=\"fm-num-frac fm-inline\"&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td class=\"fm-den-frac fm-inline\"&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;&lt;/table&gt;
  &lt;/span&gt;&lt;/span&gt;&lt;/mrow&gt;",
  "voice":"usenglishfemale",
  "library":"libmath"}'</span> <span class="s2">"http://api.ispeech.org/api/json"</span>
</code></pre>
<blockquote>
<p>HTTP POST XML Text-to-Speech request containing MathML (The text: “+7” gets spoken as “positive seven”)</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/xml"</span>
  -d <span class="s2">"&lt;data&gt;
  &lt;action&gt;convert&lt;/action&gt;
  &lt;text&gt;&amp;lt;msup&amp;gt;&amp;lt;mn&amp;gt;10&amp;lt;/mn&amp;gt;&amp;lt;span class=&amp;quot;fm-script fm-inline&amp;quot;&amp;gt;&amp;lt;mn&amp;gt;3&amp;lt;/mn&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/msup&amp;gt;&lt;/text&gt;
  &lt;library&gt;libmath&lt;/library&gt;
  &lt;voice&gt;usenglishfemale&lt;/voice&gt;
  &lt;/data&gt;"</span> <span class="s2">"http://api.ispeech.org/api/xml"</span>

<span class="gp">&gt; </span>Response

<span class="sb">```</span>shell
<span class="o">[</span>...mp3 binary data...]
</code></pre>
<p>The following examples are packet captures from TCP connections that used the HTTP protocol.  You can compare your network traffic to these transactions to debug code.  Wireshark can be used to analyze network connections.  A REST client can be used to make these HTTP requests.</p>

<p>More information on MathML is available on http://www.w3.org/TR/MathML2/ and https://developer.mozilla.org/en-US/docs/MathML</p>

<h3 id="http-get-url-encoded-text-to-speech-request-containing-mathml">HTTP GET URL encoded Text-to-Speech request containing MathML</h3>

<table><thead>
<tr>
<th>URL encoded Request Information</th>
</tr>
</thead><tbody>
<tr>
<td>Text: “+7” (says, positive seven)</td>
</tr>
<tr>
<td>MathML used: <code class="prettyprint">&lt;mrow&gt;&lt;mtext&gt;&lt;sup&gt;+&lt;/sup&gt;&lt;/mtext&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/mrow&gt;</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>POST JSON Request Information</th>
</tr>
</thead><tbody>
<tr>
<td>Text: “-3/5” (says, negative three fifths)</td>
</tr>
<tr>
<td>MathML used: <code class="prettyprint">&lt;mrow&gt;&lt;mtext&gt;&lt;sup&gt;-&lt;/sup&gt;&lt;/mtext&gt;&lt;span mtagname=&quot;mfrac&quot;&gt;&lt;span class=&quot;fm-vert fm-frac&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;fm-num-frac fm-inline&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;fm-den-frac fm-inline&quot;&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/span&gt;&lt;/span&gt;&lt;/mrow&gt;</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>POST XML Request Information</th>
</tr>
</thead><tbody>
<tr>
<td>Text: “10^3” (says, 10 to the power of 3)</td>
</tr>
<tr>
<td>Math ML: <code class="prettyprint">&lt;msup&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;span class=&quot;fm-script fm-inline&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/span&gt;&lt;/msup&gt;</code></td>
</tr>
</tbody></table>

<h2 id="errors">Errors</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Summary</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Invalid API key</td>
</tr>
<tr>
<td>2</td>
<td>Could not convert text</td>
</tr>
<tr>
<td>3</td>
<td>Not enough credits</td>
</tr>
<tr>
<td>4</td>
<td>No action specified</td>
</tr>
<tr>
<td>5</td>
<td>Invalid text</td>
</tr>
<tr>
<td>6</td>
<td>Too many words</td>
</tr>
<tr>
<td>7</td>
<td>Invalid text entry</td>
</tr>
<tr>
<td>8</td>
<td>Invalid voice</td>
</tr>
<tr>
<td>12</td>
<td>Invalid file format</td>
</tr>
<tr>
<td>13</td>
<td>Invalid speed</td>
</tr>
<tr>
<td>14</td>
<td>Invalid dictionary</td>
</tr>
<tr>
<td>15</td>
<td>Invalid bitrate</td>
</tr>
<tr>
<td>16</td>
<td>Invalid frequency</td>
</tr>
<tr>
<td>30</td>
<td>Option not enabled for your account. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>32</td>
<td>Invalid pitch</td>
</tr>
<tr>
<td>100</td>
<td>This evaluation account has exceeded its trial period. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to upgrade your license.</td>
</tr>
<tr>
<td>101</td>
<td>Your key has been disabled. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>997</td>
<td>No api access</td>
</tr>
<tr>
<td>998</td>
<td>Unsupported output type</td>
</tr>
<tr>
<td>999</td>
<td>Invalid request</td>
</tr>
<tr>
<td>1000</td>
<td>Invalid Request Method POST Required</td>
</tr>
<tr>
<td>3000</td>
<td>SSML error</td>
</tr>
</tbody></table>

          <h1 id="automated-speech-recognition">Automated Speech Recognition</h1>

<h2 id="request-parameters">Request Parameters</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data Type</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>Locale</td>
<td>String</td>
<td>en-US</td>
</tr>
<tr>
<td>Action</td>
<td>String</td>
<td>recognize</td>
</tr>
<tr>
<td>Content-Type</td>
<td>String</td>
<td>audio/x-wav, audio/amr, audio/speex</td>
</tr>
<tr>
<td>Audio</td>
<td>String (base64, remove \r\n)</td>
<td>UklGRgAKAQBsl/j2+sa0dR [&hellip;]</td>
</tr>
<tr>
<td>Output (optional)</td>
<td>String</td>
<td>xml, json, rest (default: rest)</td>
</tr>
<tr>
<td>Freeform (optional)</td>
<td>Integer (0 to 7)</td>
<td>3</td>
</tr>
<tr>
<td>Model (optional)</td>
<td>String</td>
<td>assistant</td>
</tr>
<tr>
<td>Speexmode (optional)</td>
<td>Integer (1 to 3)</td>
<td>1 (speex codec only)</td>
</tr>
</tbody></table>

<h2 id="locales">Locales</h2>

<h3 id="standard-locales">Standard Locales</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Alias</th>
<th>Support</th>
</tr>
</thead><tbody>
<tr>
<td>English (United States)</td>
<td>locale=en-US (default)</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>English (Canada)</td>
<td>locale=en-CA</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>English (United Kingdom)</td>
<td>locale=en-GB</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>English (Australia)</td>
<td>locale=en-AU</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>Spanish (Spain)</td>
<td>locale=es-ES</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>Spanish (Mexico)</td>
<td>locale=es-MX</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>Italian (Italy)</td>
<td>locale=it-IT</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>French (France)</td>
<td>locale=fr-FR</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>French (Canada)</td>
<td>locale=fr-CA</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>Polish (Poland)</td>
<td>locale=pl-PL</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>Portuguese (Portugal)</td>
<td>locale=pt-PT</td>
<td>freeform &amp; command list</td>
</tr>
<tr>
<td>Catalan (Catalan)</td>
<td>locale=ca-ES</td>
<td>command list</td>
</tr>
<tr>
<td>Chinese (Taiwan)</td>
<td>locale=zh-TW</td>
<td>command list</td>
</tr>
<tr>
<td>Danish (Denmark)</td>
<td>locale=da-DK</td>
<td>command list</td>
</tr>
<tr>
<td>German (Germany)</td>
<td>locale=fr-FR</td>
<td>command list</td>
</tr>
<tr>
<td>Finnish (Finland)</td>
<td>locale=it-IT</td>
<td>command list</td>
</tr>
<tr>
<td>Japanese (Japan)</td>
<td>locale=ja-JP</td>
<td>command list</td>
</tr>
<tr>
<td>Korean (Korea)</td>
<td>locale=ko-KR</td>
<td>command list</td>
</tr>
<tr>
<td>Dutch (Netherlands)</td>
<td>locale=nl-NL</td>
<td>command list</td>
</tr>
<tr>
<td>Norwegian (Norway)</td>
<td>locale=nb-NO</td>
<td>command list</td>
</tr>
<tr>
<td>Portuguese (Brazil)</td>
<td>locale=pt-BR</td>
<td>command list</td>
</tr>
<tr>
<td>Russian (Russia)</td>
<td>locale=ru-RU</td>
<td>command list</td>
</tr>
<tr>
<td>Swedish (Sweden)</td>
<td>locale=sv-SE</td>
<td>command list</td>
</tr>
<tr>
<td>Chinese (People&rsquo;s Republic of China)</td>
<td>locale=zh-CN</td>
<td>command list</td>
</tr>
<tr>
<td>Chinese (Hong Kong S.A.R.)</td>
<td>locale=zh-HK</td>
<td>command list</td>
</tr>
</tbody></table>

<h3 id="custom-locales">Custom Locales</h3>

<p>Contact sales@ispeech.org for details.</p>

<h2 id="speech-recognition-models">Speech Recognition Models</h2>

<p>Statistical speech recognition models are used to increase the probability of a correct result.  Models with fewer word choices are faster and more accurate than the freeform models.  For example, in the food model the words, “7 up” would be recognized as, “7up”.  Another example is with a food model would recognize the audio from “ice cream”  as “ice cream” instead of “i scream”.</p>

<h3 id="standard-freeform-models">Standard Freeform Models</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
<th>Use Case</th>
</tr>
</thead><tbody>
<tr>
<td>SMS / General Messages</td>
<td>freeform=1</td>
<td>Text Messages</td>
</tr>
<tr>
<td>Voice mail</td>
<td>freeform=2</td>
<td>Voice Mail</td>
</tr>
<tr>
<td>Dictation</td>
<td>freeform=3</td>
<td>Normal speech</td>
</tr>
<tr>
<td>Message (coming soon)</td>
<td>freeform=4</td>
<td>Email</td>
</tr>
<tr>
<td>Instant Message (coming soon)</td>
<td>freeform=5</td>
<td>Instant Message</td>
</tr>
<tr>
<td>Transcript (coming soon)</td>
<td>freeform=6</td>
<td></td>
</tr>
<tr>
<td>Memo (coming soon)</td>
<td>freeform=7</td>
<td>Memorandum</td>
</tr>
<tr>
<td>Web (coming soon)</td>
<td>freeform=8</td>
<td>Web search</td>
</tr>
</tbody></table>

<h3 id="standard-non-freeform-models">Standard Non-Freeform Models</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
<th>Use Case</th>
</tr>
</thead><tbody>
<tr>
<td>Assistant</td>
<td>model=assistant</td>
<td>Personal Assistant</td>
</tr>
<tr>
<td>Date</td>
<td>model=date</td>
<td>Date</td>
</tr>
<tr>
<td>NFL</td>
<td>model=nfl</td>
<td>Football teams</td>
</tr>
<tr>
<td>NBA</td>
<td>model=nba</td>
<td>Basketball teams</td>
</tr>
<tr>
<td>US Money</td>
<td>model=usmoney</td>
<td>US Money</td>
</tr>
<tr>
<td>Numbers to 9</td>
<td>model=numbersto9</td>
<td>Numbers, 0 to 9</td>
</tr>
<tr>
<td>Numbers to 99</td>
<td>model=numbersto99</td>
<td>Numbers, 0 to 99</td>
</tr>
<tr>
<td>Numbers to 999</td>
<td>model=numbersto999</td>
<td>Numbers, 0 to 999</td>
</tr>
<tr>
<td>Time</td>
<td>model=time</td>
<td>Time</td>
</tr>
<tr>
<td>Phone number</td>
<td>model=phonenumber</td>
<td>Phone number</td>
</tr>
<tr>
<td>Streets</td>
<td>model=streets</td>
<td>Streets</td>
</tr>
<tr>
<td>Sports Team</td>
<td>model=sportsteam</td>
<td>Sports Teams</td>
</tr>
<tr>
<td>City/State</td>
<td>model=citystate</td>
<td>US City/States</td>
</tr>
</tbody></table>

<h3 id="custom-models">Custom Models</h3>

<p>Contact sales@ispeech.org for details.</p>

<h2 id="speex-modes">Speex Modes</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Narrowband (8khz)</td>
<td>speexmode=1</td>
</tr>
<tr>
<td>Wideband (16khz) - Recommended</td>
<td>speexmode=2</td>
</tr>
<tr>
<td>Ultra Wideband (32kz)</td>
<td>speexmode=3</td>
</tr>
</tbody></table>

<p>The speexmode variable tells the server which format your Speex data is encoded in for improved speech recognition quality. It is highly recommended you include this parameter when using Speex encoding.</p>

<h2 id="example-transactions-for-freeform-speech">Example Transactions for Freeform Speech</h2>

<h3 id="format-of-examples">Format of Examples</h3>

<blockquote>
<p>HTTP REST Request for Speech Recognition</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -d <span class="s2">"action=recognize&amp;freeform=1&amp;content-type=audio/x-wav&amp;output=rest&amp;locale=en-us&amp;audio=[base64 encoded something.wav without </span><span class="se">\r\n</span><span class="s2"> characters]"</span> <span class="s2">"http://api.ispeech.org/api/rest"</span>
</code></pre>
<blockquote>
<p>HTTP JSON Request for Speech Recognition</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/json"</span>
  -d <span class="s1">'{"apikey":"developerdemokeydeveloperdemokey","action":"recognize",
  "freeform":"1", "locale":"en-us", "content-type":"audio/x-wav", "output":"rest", "audio":"[base64 encoded something.wav without \r\n characters]”}'</span> <span class="s2">"http://api.ispeech.org/api/json"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="nv">text</span><span class="o">=</span>something&amp;confidence<span class="o">=</span>0.0134419081732631&amp;result<span class="o">=</span>success
</code></pre>
<blockquote>
<p>HTTP XML network request for Speech Recognition</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/xml"</span>
  -d <span class="s2">"&lt;data&gt;
      &lt;apikey&gt;developerdemokeydeveloperdemokey&lt;/apikey&gt;
      &lt;action&gt;recognize&lt;/action&gt;
      &lt;freeform&gt;1&lt;/freeform&gt;
      &lt;locale&gt;en-us&lt;/locale&gt;
      &lt;content-type&gt;audio/x-wav&lt;/content-type&gt;
      &lt;output&gt;xml&lt;/output&gt;
      &lt;audio&gt;[base64 encoded something.wav without </span><span class="se">\r\n</span><span class="s2"> characters]&lt;/audio&gt;
      &lt;/data&gt;"</span> <span class="s2">"http://api.ispeech.org/api/xml"</span>
</code></pre>
<blockquote>
<p>XML Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;data&gt;</span>
<span class="nt">&lt;text&gt;</span>something<span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;confidence&gt;</span>0.0216270890086889<span class="nt">&lt;/confidence&gt;</span>
<span class="nt">&lt;result&gt;</span>success<span class="nt">&lt;/result&gt;</span>
<span class="nt">&lt;/data&gt;</span>
</code></pre>
<p>The following examples are packet captures from TCP connections that used the HTTP protocol.  You can compare your network traffic to these transactions to debug code.  Wireshark can be used to analyze network connections.</p>

<h2 id="command-lists">Command Lists</h2>

<p>Command lists are used to limit the possible values returned during speech recognition.  For example, if the command list contains only “yes” and “no”, the result will be either “yes” or “no”.</p>

<h2 id="example-transactions-for-command-lists">Example Transactions for Command Lists</h2>

<h3 id="formatting-of-examples">Formatting of Examples</h3>

<blockquote>
<p>HTTP XML network request to detect commands from a list</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/xml"</span>
-d <span class="s2">"&lt;data&gt;
    &lt;apikey&gt;developerdemokeydeveloperdemokey&lt;/apikey&gt;
    &lt;action&gt;recognize&lt;/action&gt;
    &lt;locale&gt;en-US&lt;/locale&gt;
    &lt;output&gt;xml&lt;/output&gt;
    &lt;alias&gt;command1|YESNOMAYBE&lt;/alias&gt;
    &lt;YESNOMAYBE&gt;yes|no|maybe&lt;/YESNOMAYBE&gt;
    &lt;command1&gt;say %YESNOMAYBE%&lt;/command1&gt;
    &lt;content-type&gt;audio/x-wav&lt;/content-type&gt;
    &lt;audio&gt;[base64 encoded say_yes.wav without </span><span class="se">\r\n</span><span class="s2"> characters]&lt;/audio&gt;
    &lt;/data&gt;"</span> <span class="s2">"http://api.ispeech.org/api/xml"</span>
</code></pre>
<blockquote>
<p>XML Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;data&gt;</span>
<span class="nt">&lt;text&gt;</span>say yes<span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;confidence&gt;</span>0.726751327514648<span class="nt">&lt;/confidence&gt;</span>
<span class="nt">&lt;result&gt;</span>success<span class="nt">&lt;/result&gt;</span>
<span class="nt">&lt;/data&gt;</span>
</code></pre>
<blockquote>
<p>HTTP REST network request to detect commands from a list</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -d <span class="s2">"action=recognize&amp;locale=en-us&amp;content-type=audio%2Fwav&amp;output=rest&amp;alias=command1|NAMES
&amp;NAMES=john|mary|anna&amp;command1=call%20%25NAMES%25&amp;audio=[base64 encoded wav without </span><span class="se">\r\n</span><span class="s2"> characters]"</span> <span class="s2">"http://api.ispeech.org/api/rest"</span>
</code></pre>
<blockquote>
<p>HTTP Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="nv">text</span><span class="o">=</span>call+mary&amp;confidence<span class="o">=</span>0.672464966773987&amp;result<span class="o">=</span>success
</code></pre>
<blockquote>
<p>HTTP POST JSON request to detect commands from a list</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/json"</span>
-d <span class="s1">'{"action":"recognize","locale":"en-US","alias":"command1|YESNOMAYBE","YESNOMAYBE":"yes|no|maybe","command1":"say %YESNOMAYBE%","content-type":"audio/x-wav","output":"rest","audio":"[base64 encoded say_yes.wav without \r\n characters]"}'</span> <span class="s2">"http://api.ispeech.org/api/json"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="nv">text</span><span class="o">=</span>say+yes&amp;confidence<span class="o">=</span>0.726751327514648&amp;result<span class="o">=</span>success
</code></pre>
<blockquote>
<p>Advanced Example, HTTP POST XML request to detect multiple audio commands from multiple lists</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Content-Type:application/xml"</span>
  -d <span class="s2">"&lt;data&gt;
      &lt;apikey&gt;developerdemokeydeveloperdemokey&lt;/apikey&gt;
      &lt;action&gt;recognize&lt;/action&gt;
      &lt;locale&gt;en-us&lt;/locale&gt;
      &lt;content-type&gt;audio/x-wav&lt;/content-type&gt;
      &lt;output&gt;xml&lt;/output&gt;
      &lt;alias&gt;command1|command2|MONITORACTIONS|COLORLIST|
      DYNAMITEACTIONS|OBJECTLIST&lt;/alias&gt;
      &lt;MONITORACTIONS&gt;on|off|reset&lt;/MONITORACTIONS&gt;
      &lt;COLORLIST&gt;blue|green|red|yellow|purple|orange|black|white|cyan&lt;/COLORLIST&gt;
      &lt;DYNAMITEACTIONS&gt;explode|fizzle out&lt;/DYNAMITEACTIONS&gt;
      &lt;OBJECTLIST&gt;monitor %MONITORACTIONS%|color %COLORLIST%|dynamite  %DYNAMITEACTIONS%&lt;/OBJECTLIST&gt;
      &lt;command1&gt;set %OBJECTLIST%&lt;/command1&gt;
      &lt;command2&gt;quit menu&lt;/command2&gt;
      &lt;audio&gt;[base64 encoded set_dynamite_explode.wav
      without </span><span class="se">\r\n</span><span class="s2"> characters]&lt;/audio&gt;
      &lt;/data&gt;"</span> <span class="s2">"http://api.ispeech.org/api/xml"</span>
</code></pre>
<blockquote>
<p>XML Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="nt">&lt;data&gt;&lt;text&gt;</span>set dynamite explode<span class="nt">&lt;/text&gt;&lt;confidence&gt;</span>0.589247465133667<span class="nt">&lt;/confidence&gt;</span>
<span class="nt">&lt;result&gt;</span>success<span class="nt">&lt;/result&gt;&lt;/data&gt;</span>
</code></pre>
<aside class="success">
If a user speaks &ldquo;say yes&rdquo;, ”say maybe”, or “say no” it will be successfully recognized.
</aside>

<aside class="success">
If a user speaks &ldquo;call john&rdquo;, &ldquo;call anna&rdquo;, or &ldquo;call mary&rdquo; it will be successfully recognized.
</aside>

<aside class="success">
If a user speaks &ldquo;set monitor on&rdquo;, ”set monitor off”, or “set dynamite explode”, etc. it will be successfully recognized.
</aside>

<p>The following examples are packet captures of TCP connections that use the HTTP protocol.  You can compare your network traffic with these transactions to debug code.  Wireshark can be used to analyze network connections.  A REST client can be used to make these HTTP requests.</p>

<h2 id="errors">Errors</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Summary</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Invalid API key</td>
</tr>
<tr>
<td>3</td>
<td>Not enough credits</td>
</tr>
<tr>
<td>4</td>
<td>No action specified</td>
</tr>
<tr>
<td>12</td>
<td>Invalid file format</td>
</tr>
<tr>
<td>14</td>
<td>Invalid dictionary</td>
</tr>
<tr>
<td>17</td>
<td>Invalid alias list</td>
</tr>
<tr>
<td>18</td>
<td>Alias missing</td>
</tr>
<tr>
<td>19</td>
<td>Invalid content type</td>
</tr>
<tr>
<td>20</td>
<td>Alias list too complex</td>
</tr>
<tr>
<td>21</td>
<td>Could not recognize</td>
</tr>
<tr>
<td>23</td>
<td>Invalid locale</td>
</tr>
<tr>
<td>24</td>
<td>Bad audio data</td>
</tr>
<tr>
<td>25</td>
<td>Model not supported or disabled</td>
</tr>
<tr>
<td>26</td>
<td>Selected model does not support desired locale</td>
</tr>
<tr>
<td>28</td>
<td>Locale not supported</td>
</tr>
<tr>
<td>30</td>
<td>Option not enabled for your account. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>100</td>
<td>This evaluation account has exceeded its trial period. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to upgrade your license.</td>
</tr>
<tr>
<td>101</td>
<td>Your key has been disabled. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>997</td>
<td>No api access</td>
</tr>
<tr>
<td>998</td>
<td>Unsupported output type</td>
</tr>
<tr>
<td>999</td>
<td>Invalid request</td>
</tr>
<tr>
<td>1000</td>
<td>Invalid Request Method POST Required</td>
</tr>
</tbody></table>

          <h1 id="position-markers">Position Markers</h1>

<h2 id="request-parameters">Request Parameters</h2>

<blockquote>
<p>Example HTTP GET Request (Using most variables)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=convert
      &amp;text=something
      &amp;voice=usenglishfemale
      &amp;format=mp3
      &amp;frequency=44100
      &amp;bitrate=128
      &amp;speed=1
      &amp;startpadding=1
      &amp;endpadding=1
      &amp;pitch=110
      &amp;filename=myaudiofile"</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Data Type</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>Action</td>
<td>String</td>
<td>markers</td>
</tr>
<tr>
<td>Text</td>
<td>String</td>
<td>Hello World</td>
</tr>
<tr>
<td>Voice (optional)</td>
<td>String</td>
<td>usenglishfemale (default)</td>
</tr>
<tr>
<td>Format (optional)</td>
<td>String</td>
<td>mp3 (default)</td>
</tr>
<tr>
<td>Speed (optional)</td>
<td>Integer</td>
<td>-10 to 10 (default: 0)</td>
</tr>
<tr>
<td>Startpadding (optional)</td>
<td>Integer (seconds)</td>
<td>5 (default: 0)</td>
</tr>
<tr>
<td>Endpadding (optional)</td>
<td>Integer (seconds)</td>
<td>5 (default: 0)</td>
</tr>
</tbody></table>

<h2 id="introduction">Introduction</h2>

<p>Position markers provide information regarding word boundaries to allow applications to visually display the current location in spoken audio.  It is similar to how a karaoke system would display lyrics.</p>

<p>This is accomplished by first retrieving audio from the iSpeech API (see section 2 for more details), then making a second request for an XML document which contains word boundary information.</p>

<h2 id="example-transactions-for-position-markers">Example Transactions for Position Markers</h2>

<blockquote>
<p>HTTP GET network transaction to retrieve position markers</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=markers&amp;text=hello+world"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;markers&gt;</span>
    <span class="nt">&lt;text&gt;</span>hello world<span class="nt">&lt;/text&gt;</span>
    <span class="nt">&lt;voice&gt;</span>usenglishfemale<span class="nt">&lt;/voice&gt;</span>
    <span class="nt">&lt;length&gt;</span>894<span class="nt">&lt;/length&gt;</span>
    <span class="nt">&lt;words&gt;</span>2<span class="nt">&lt;/words&gt;</span>
    <span class="nt">&lt;word&gt;</span>
        <span class="nt">&lt;start&gt;</span>70<span class="nt">&lt;/start&gt;</span>
        <span class="nt">&lt;end&gt;</span>339<span class="nt">&lt;/end&gt;</span>
        <span class="nt">&lt;index&gt;</span>1<span class="nt">&lt;/index&gt;</span>
        <span class="nt">&lt;length&gt;</span>270<span class="nt">&lt;/length&gt;</span>
        <span class="nt">&lt;text&gt;</span>hello<span class="nt">&lt;/text&gt;</span>
    <span class="nt">&lt;/word&gt;</span>
    <span class="nt">&lt;word&gt;</span>
        <span class="nt">&lt;start&gt;</span>340<span class="nt">&lt;/start&gt;</span>
        <span class="nt">&lt;end&gt;</span>894<span class="nt">&lt;/end&gt;</span>
        <span class="nt">&lt;index&gt;</span>2<span class="nt">&lt;/index&gt;</span>
        <span class="nt">&lt;length&gt;</span>555<span class="nt">&lt;/length&gt;</span>
        <span class="nt">&lt;text&gt;</span>world<span class="nt">&lt;/text&gt;</span>
    <span class="nt">&lt;/word&gt;</span>
<span class="nt">&lt;/markers&gt;</span>
</code></pre>
<h3 id="note-marker-data-is-currently-only-presented-in-xml-form">Note: Marker data is currently only presented in XML form.</h3>

<p>To obtain marker information from the iSpeech API, you query the server in the same manner as a normal text-to-speech request. The only difference between a TTS request and a marker request is the “action” parameter, which is set to “convert” for audio, and “markers” for marker information.</p>

<h2 id="marker-information-usage-technique">Marker Information Usage Technique</h2>

<p>Once you have obtained an audio file and the respective marker information XML document, you are ready to highlight text.</p>

<p>There are many methods to processing iSpeech marker information; the following outlines the most basic of those methods. Use the following steps as a baseline implementation.</p>

<aside class="info">
Implementations will vary greatly depending on the platform.
</aside>

<h3 id="media-player-considerations">Media Player Considerations</h3>

<p>Your media player must support “location”, “position”, or must notify you of its current progress periodically. For example, in Flash, we set a timer to poll for the audio position every 250 milliseconds. Highlighting will be more accurate with a low interval.</p>

<h3 id="implementation">Implementation</h3>

<p>If your media player supports retrieval of “current position” or similar, you can follow these basic steps:</p>

<ol>
<li> Retrieve audio</li>
<li> Retrieve marker information xml</li>
<li> Parse xml into enumerable container/object</li>
<li> Load audio into media player and start playing</li>
<li> Create a timer and set it’s interval to 250 milliseconds</li>
<li> Inside of the newly created timer, at every interval query the media player’s current position</li>
<li> Convert the position to milliseconds (if you have number such as 1.343, simply multiply by 1000)</li>
<li> Move to first (or next) “word” node inside of marker information xml document</li>
<li> Check to see if current position is greater than or equal to the value of ”start” AND ALSO current position is less than or equal to the value of “end”, highlight the specified “text”</li>
<li> If current position is greater than “word” “end” value go to step 8</li>
</ol>

<p>You can follow the above steps until the audio file is exhausted.</p>

<h2 id="notes">Notes</h2>

<aside class="info">
Due to the overhead of creation, we strongly recommend using short sentences instead of large blocks of text when requesting marker information.
</aside>

<p>The same parameters must be sent in the markers request as the original TTS audio request. For example, if you pass a “speed” parameter during audio conversion, you must also send this parameter in your marker information request. If you fail to do so, the marker information will not line up correctly.</p>

<p>File type affects audio length. A MP3 file is always longer than a WAV file due to compression padding. The API will modify the file length accordingly.</p>

<h2 id="errors">Errors</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Summary</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Invalid API key</td>
</tr>
<tr>
<td>2</td>
<td>Could not convert text</td>
</tr>
<tr>
<td>3</td>
<td>Not enough credits</td>
</tr>
<tr>
<td>4</td>
<td>No action specified</td>
</tr>
<tr>
<td>5</td>
<td>Invalid text</td>
</tr>
<tr>
<td>6</td>
<td>Too many words</td>
</tr>
<tr>
<td>7</td>
<td>Invalid text entry</td>
</tr>
<tr>
<td>8</td>
<td>Invalid voice</td>
</tr>
<tr>
<td>12</td>
<td>Invalid file format</td>
</tr>
<tr>
<td>13</td>
<td>Invalid speed</td>
</tr>
<tr>
<td>14</td>
<td>Invalid dictionary</td>
</tr>
<tr>
<td>15</td>
<td>Invalid bitrate</td>
</tr>
<tr>
<td>16</td>
<td>Invalid frequency</td>
</tr>
<tr>
<td>30</td>
<td>Option not enabled for your account. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>33</td>
<td>Invalid text or markers not supported for the selected voice</td>
</tr>
<tr>
<td>34</td>
<td>Markers do not support audio padding or other option.</td>
</tr>
<tr>
<td>100</td>
<td>This evaluation account has exceeded its trial period. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to upgrade your license.</td>
</tr>
<tr>
<td>101</td>
<td>Your key has been disabled. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>997</td>
<td>No api access</td>
</tr>
<tr>
<td>998</td>
<td>Unsupported output type</td>
</tr>
<tr>
<td>999</td>
<td>Invalid request</td>
</tr>
<tr>
<td>1000</td>
<td>Invalid Request Method POST Required</td>
</tr>
</tbody></table>

          <h1 id="visemes">Visemes</h1>

<h2 id="request-parameters">Request Parameters</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data Type</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>Action</td>
<td>String</td>
<td>viseme</td>
</tr>
<tr>
<td>Text</td>
<td>String</td>
<td>Hello World</td>
</tr>
<tr>
<td>Voice (optional)</td>
<td>String</td>
<td>usenglishfemale (default)</td>
</tr>
<tr>
<td>Format  (optional)</td>
<td>String</td>
<td>mp3 (default)</td>
</tr>
<tr>
<td>Speed (optional)</td>
<td>Integer</td>
<td>-10 to 10 (default: 0)</td>
</tr>
<tr>
<td>Startpadding (optional)</td>
<td>Integer (seconds)</td>
<td>5 (default: 0)</td>
</tr>
<tr>
<td>Endpadding (optional)</td>
<td>Integer (seconds)</td>
<td>5 (default: 0)</td>
</tr>
</tbody></table>

<h2 id="introduction">Introduction</h2>

<p>Visemes provide information regarding the mouth position and time interval of spoken audio which allows applications to visually pronounce audio.</p>

<p>This is accomplished by first retrieving audio from the iSpeech API (see section 2 for more details), then making a second request for an XML document which contains viseme information.</p>

<h2 id="example-transaction-for-viseme-retrieval">Example Transaction for Viseme Retrieval</h2>

<blockquote>
<p>HTTP GET network transaction to retrieve viseme positions</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.ispeech.org/api/rest?action=viseme&amp;text=hello+world"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;visemes&gt;</span>
   <span class="nt">&lt;text&gt;</span>hello world<span class="nt">&lt;/text&gt;</span>
   <span class="nt">&lt;voice&gt;</span>usenglishfemale<span class="nt">&lt;/voice&gt;</span>
   <span class="nt">&lt;length&gt;</span>753<span class="nt">&lt;/length&gt;</span>
   <span class="nt">&lt;frames&gt;</span>9<span class="nt">&lt;/frames&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>1<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>74<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>1<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>74<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>12<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>75<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>102<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>2<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>28<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>4<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>103<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>182<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>3<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>80<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>14<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>183<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>269<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>4<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>87<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>8<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>270<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>359<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>5<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>90<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>7<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>360<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>470<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>6<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>111<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>5<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>471<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>660<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>7<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>190<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>14<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>661<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>752<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>8<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>92<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>19<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
   <span class="nt">&lt;viseme&gt;</span>
      <span class="nt">&lt;start&gt;</span>753<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;end&gt;</span>753<span class="nt">&lt;/end&gt;</span>
      <span class="nt">&lt;index&gt;</span>9<span class="nt">&lt;/index&gt;</span>
      <span class="nt">&lt;length&gt;</span>1<span class="nt">&lt;/length&gt;</span>
      <span class="nt">&lt;mouth&gt;</span>0<span class="nt">&lt;/mouth&gt;</span>
   <span class="nt">&lt;/viseme&gt;</span>
<span class="nt">&lt;/visemes&gt;</span>
</code></pre>
<aside class="info">
Viseme data is currently only presented in XML form.
</aside>

<p>To obtain viseme information from the iSpeech API, you query the server in the same manner as a normal text-to-speech request. The only difference between a TTS request and a marker request is the “action” parameter, which is set to “convert” for audio, and “viseme” for viseme information.</p>

<h2 id="viseme-chart">Viseme Chart</h2>

<table cellpadding="0" cellspacing="0" class="c0">
         <tbody>
            <tr class="c60">
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth08.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 0</span></p>
               </td>
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth09.jpg" width="100%"><span class="c4">&nbsp;Mouth 1</span></p>
               </td>
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth11.jpg" width="100%"><span class="c4">Mouth 2</span></p>
               </td>
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth12.jpg" width="100%"><span class="c4">Mouth 3</span></p>
               </td>
            </tr>
            <tr class="c6">
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth01.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 4</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth00.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 5</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth03.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 6</span></p>
               </td>
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth02.jpg" width="100%"><span class="c4">&nbsp;Mouth 7</span></p>
               </td>
            </tr>
            <tr class="c6">
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth04.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 8</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth13.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 9</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth14.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 10</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth15.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 11</span></p>
               </td>
            </tr>
            <tr class="c6">
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth16.jpg" width="100%"><span class="c4">&nbsp;Mouth 12</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth19.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 13</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth20.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 14</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth21.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 15</span></p>
               </td>
            </tr>
            <tr class="c6">
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth22.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 16</span></p>
               </td>
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth17.jpg" width="100%"><span class="c4">&nbsp;Mouth 17</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth18.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth18</span></p>
               </td>
               <td class="c43">
                  <p class="c3 c38"><img height="100%" src="http://www.ispeech.org/images/mouth10.jpg" width="100%"><span class="c4">&nbsp;Mouth 19</span></p>
               </td>
            </tr>
            <tr class="c6">
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth05.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 20</span></p>
               </td>
               <td class="c43">
                  <p class="c3"><img height="100%" src="http://www.ispeech.org/images/mouth07.jpg" width="100%"></p>
                  <p class="c3 c38"><span class="c4">Mouth 21</span></p>
               </td>
               <td class="c43">
                  <p class="c1"><span class="c10"></span></p>
               </td>
               <td class="c43">
                  <p class="c1"><span class="c10"></span></p>
               </td>
            </tr>
         </tbody>
      </table>

<h2 id="viseme-usage-technique">Viseme Usage Technique</h2>

<p>Once you have obtained an audio file and the respective viseme information XML document, you are ready to animate mouth positions to simulate speaking.</p>

<p>There are many methods to processing iSpeech viseme information; the following outlines the most basic of those methods. Use the following steps as a baseline implementation.</p>

<aside class="info">
Implementations will vary greatly depending on the platform.
</aside>

<h3 id="media-player-considerations">Media Player Considerations</h3>

<p>Your media player must support “location”, “position”, or must notify you of its current progress periodically. For example, in Flash, we set a timer to poll for the audio position every 250 milliseconds. Mouth positioning will be more accurate with a low interval.</p>

<h3 id="implementation">Implementation</h3>

<p>If your media player supports retrieval of “current position” or similar, you can follow these basic steps:</p>

<ol>
<li> Retrieve audio</li>
<li> Retrieve viseme information xml</li>
<li> Parse xml into enumerable container/object</li>
<li> Load audio into media player and start playing</li>
<li> Create a timer and set it’s interval to 250 milliseconds</li>
<li> Inside of the newly created timer, at every interval query the media player’s current position</li>
<li> Convert the position to milliseconds (if you have number such as 1.343, simply multiply by 1000)</li>
<li> Move to first (or next) “word” node inside of marker information xml document</li>
<li> Check to see if current position is greater than or equal to the value of ”start” AND ALSO current position is less than or equal to the value of “end”, highlight the specified “text”</li>
<li> If current position is greater than “word” “end” value go to step 8</li>
</ol>

<p>You can follow the above steps until the audio file is exhausted.</p>

<h2 id="notes">Notes</h2>

<aside class="info">
Due to the overhead of creation, we strongly recommend using short sentences instead of large blocks of text when requesting viseme information.
</aside>

<p>The same parameters must be sent in the viseme request as the original TTS audio request. For example, if you pass a “speed” parameter during audio conversion, you must also send this parameter in your marker information request. If you fail to do so, the viseme will not line up correctly.</p>

<p>File type affects audio length. A MP3 file is always longer than a WAV file due to compression padding. The API will modify the file length accordingly.</p>

<h2 id="errors">Errors</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Summary</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Invalid API key</td>
</tr>
<tr>
<td>2</td>
<td>Could not convert text</td>
</tr>
<tr>
<td>3</td>
<td>Not enough credits</td>
</tr>
<tr>
<td>4</td>
<td>No action specified</td>
</tr>
<tr>
<td>5</td>
<td>Invalid text</td>
</tr>
<tr>
<td>6</td>
<td>Too many words</td>
</tr>
<tr>
<td>7</td>
<td>Invalid text entry</td>
</tr>
<tr>
<td>8</td>
<td>Invalid voice</td>
</tr>
<tr>
<td>12</td>
<td>Invalid file format</td>
</tr>
<tr>
<td>13</td>
<td>Invalid speed</td>
</tr>
<tr>
<td>14</td>
<td>Invalid dictionary</td>
</tr>
<tr>
<td>15</td>
<td>Invalid bitrate</td>
</tr>
<tr>
<td>16</td>
<td>Invalid frequency</td>
</tr>
<tr>
<td>29</td>
<td>Viseme not supported for the selected voice.</td>
</tr>
<tr>
<td>30</td>
<td>Option not enabled for your account. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>32</td>
<td>Invalid pitch</td>
</tr>
<tr>
<td>100</td>
<td>This evaluation account has exceeded its trial period. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to upgrade your license.</td>
</tr>
<tr>
<td>101</td>
<td>Your key has been disabled. Please contact iSpeech sales at +1 (917) 338-7723 or at sales@ispeech.org to modify your license.</td>
</tr>
<tr>
<td>997</td>
<td>No api access</td>
</tr>
<tr>
<td>998</td>
<td>Unsupported output type</td>
</tr>
<tr>
<td>999</td>
<td>Invalid request</td>
</tr>
<tr>
<td>1000</td>
<td>Invalid Request Method POST Required</td>
</tr>
</tbody></table>

          <h1 id="revision-history">Revision History</h1>

<table><thead>
<tr>
<th>Publish Date</th>
<th>Updates</th>
</tr>
</thead><tbody>
<tr>
<td>Aug  8, 2011</td>
<td>Document created</td>
</tr>
<tr>
<td>Sept 13, 2011</td>
<td>Added ASR</td>
</tr>
<tr>
<td>Sept 21, 2011</td>
<td>Added AMR to ASR</td>
</tr>
<tr>
<td>Nov 9, 2011</td>
<td>Added voice command examples</td>
</tr>
<tr>
<td>Nov 10, 2011</td>
<td>Removed references to ASR Raw POST</td>
</tr>
<tr>
<td>Nov 11, 2011</td>
<td>Made output variable explicit for ASR and voice list examples</td>
</tr>
<tr>
<td>Nov 17, 2011</td>
<td>Specified HTTP POST/GET instead of REST, fixed /r/n typos</td>
</tr>
<tr>
<td>Nov 22, 2011</td>
<td>Added reference for Speex in ASR content-type example</td>
</tr>
<tr>
<td>Dec 12, 2011</td>
<td>Added endpadding and startpadding variables</td>
</tr>
<tr>
<td>Dec 12, 2011</td>
<td>Added TTS examples, added background highlighting to emphasize examples</td>
</tr>
<tr>
<td>Aug 24, 2012</td>
<td>Added position markers and visemes</td>
</tr>
<tr>
<td>Aug 24, 2012</td>
<td>Added Flash, Javascript/Flash, Ruby, Python, Perl SDKs</td>
</tr>
<tr>
<td>Aug 24, 2012</td>
<td>Added link to automated payment system</td>
</tr>
<tr>
<td>Aug 24, 2012</td>
<td>Added pitch parameter to TTS</td>
</tr>
<tr>
<td>Aug 30, 2012</td>
<td>Added standard non-freeform speech recognition models</td>
</tr>
<tr>
<td>Aug 30, 2012</td>
<td>Added speech recognition speex modes</td>
</tr>
<tr>
<td>Sept 10, 2012</td>
<td>Added bit depth</td>
</tr>
<tr>
<td>Sept 10, 2012</td>
<td>Added TTS file formats: alaw, ulaw, vox, and mp4</td>
</tr>
<tr>
<td>Sept 10, 2012</td>
<td>Added errors</td>
</tr>
<tr>
<td>Sept 10, 2012</td>
<td>Changed ASR language to locale</td>
</tr>
<tr>
<td>Oct 3, 2012</td>
<td>Add filename parameter to TTS</td>
</tr>
<tr>
<td>Nov 12, 2012</td>
<td>Removed eurdutchmale voice</td>
</tr>
<tr>
<td>Jan 22, 2013</td>
<td>Added Math Markup Language (MathML) information and examples</td>
</tr>
<tr>
<td>Jan 24, 2013</td>
<td>Added Speech Synthesis Markup Language (SSML) information and examples</td>
</tr>
<tr>
<td>Mar 4, 2013</td>
<td>Corrected content-length for JSON TTS example</td>
</tr>
<tr>
<td>Mar 13, 2013</td>
<td>Updated ASR locale list, added Web ASR freeform mode.</td>
</tr>
<tr>
<td>Sept 7, 2016</td>
<td>Updated supported language list.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
